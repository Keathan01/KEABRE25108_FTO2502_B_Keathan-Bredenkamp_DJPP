{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Codepace_projects\\\\create-podcast-app.ps1\\\\PodcastApp\\\\src\\\\pages\\\\ShowDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Episodes from \"../components/Episodes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ShowDetailPage() {\n  _s();\n  const {\n    showId\n  } = useParams();\n  const navigate = useNavigate();\n  const [show, setShow] = useState(null);\n  const [favorites, setFavorites] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [expandedSeasons, setExpandedSeasons] = useState({});\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const resShow = await fetch(`https://podcast-api.netlify.app/id/${showId}`);\n        const showData = await resShow.json();\n        setShow(showData);\n      } catch (err) {\n        console.error(err);\n        setError(\"Failed to load show details.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n    const storedFavorites = JSON.parse(localStorage.getItem(\"favorites\")) || [];\n    setFavorites(storedFavorites);\n  }, [showId]);\n  const toggleFavorite = episode => {\n    const exists = favorites.some(f => f.id === episode.id);\n    const updated = exists ? favorites.filter(f => f.id !== episode.id) : [...favorites, {\n      ...episode,\n      showTitle: show === null || show === void 0 ? void 0 : show.title,\n      showId,\n      addedAt: Date.now()\n    }];\n    setFavorites(updated);\n    localStorage.setItem(\"favorites\", JSON.stringify(updated));\n  };\n  const playEpisode = (url, id, queue = []) => {\n    window.dispatchEvent(new CustomEvent(\"play-audio\", {\n      detail: {\n        url,\n        id,\n        queue\n      }\n    }));\n  };\n  const toggleSeason = season => {\n    setExpandedSeasons(prev => ({\n      ...prev,\n      [season]: !prev[season]\n    }));\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center mt-10\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center text-red-600\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 21\n  }, this);\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto px-4 py-10 pb-40\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(-1),\n      className: \"mb-6 px-4 py-2 bg-gray-200 dark:bg-gray-700 text-black dark:text-white rounded hover:bg-gray-300 dark:hover:bg-gray-600\",\n      children: \"\\u2190 Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-center mb-4\",\n      children: show.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: show.image,\n      alt: show.title,\n      className: \"mx-auto w-32 h-32 object-cover rounded mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center mb-6 text-gray-700 dark:text-gray-300\",\n      children: show.description || \"No description available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold mb-6\",\n      children: [show.seasons.length, \" Season(s),\", \" \", show.seasons.reduce((acc, season) => {\n        var _season$episodes;\n        return acc + (((_season$episodes = season.episodes) === null || _season$episodes === void 0 ? void 0 : _season$episodes.length) || 0);\n      }, 0), \" \", \"Episode(s)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), show.seasons.map(season => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => toggleSeason(season.season),\n        className: \"w-full text-left font-bold text-lg bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-md mb-2\",\n        children: [\"Season \", season.season, \" \", expandedSeasons[season.season] ? \"▲\" : \"▼\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), expandedSeasons[season.season] && /*#__PURE__*/_jsxDEV(Episodes, {\n        episodes: season.episodes || [],\n        onPlay: (url, id) => playEpisode(url, id, season.episodes || []),\n        favorites: favorites,\n        onToggleFavorite: toggleFavorite\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this)]\n    }, season.season, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(ShowDetailPage, \"ed65o97hY8OFe4Os3FtQnWe7JHk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ShowDetailPage;\nvar _c;\n$RefreshReg$(_c, \"ShowDetailPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Episodes","jsxDEV","_jsxDEV","ShowDetailPage","_s","showId","navigate","show","setShow","favorites","setFavorites","loading","setLoading","error","setError","expandedSeasons","setExpandedSeasons","fetchData","resShow","fetch","showData","json","err","console","storedFavorites","JSON","parse","localStorage","getItem","toggleFavorite","episode","exists","some","f","id","updated","filter","showTitle","title","addedAt","Date","now","setItem","stringify","playEpisode","url","queue","window","dispatchEvent","CustomEvent","detail","toggleSeason","season","prev","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","image","alt","description","seasons","length","reduce","acc","_season$episodes","episodes","map","onPlay","onToggleFavorite","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Codepace_projects/create-podcast-app.ps1/PodcastApp/src/pages/ShowDetail.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Episodes from \"../components/Episodes\";\n\nexport default function ShowDetailPage() {\n  const { showId } = useParams();\n  const navigate = useNavigate();\n  const [show, setShow] = useState(null);\n  const [favorites, setFavorites] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [expandedSeasons, setExpandedSeasons] = useState({});\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        const resShow = await fetch(\n          `https://podcast-api.netlify.app/id/${showId}`\n        );\n        const showData = await resShow.json();\n        setShow(showData);\n      } catch (err) {\n        console.error(err);\n        setError(\"Failed to load show details.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n\n    const storedFavorites = JSON.parse(localStorage.getItem(\"favorites\")) || [];\n    setFavorites(storedFavorites);\n  }, [showId]);\n\n  const toggleFavorite = (episode) => {\n    const exists = favorites.some((f) => f.id === episode.id);\n    const updated = exists\n      ? favorites.filter((f) => f.id !== episode.id)\n      : [\n          ...favorites,\n          {\n            ...episode,\n            showTitle: show?.title,\n            showId,\n            addedAt: Date.now(),\n          },\n        ];\n    setFavorites(updated);\n    localStorage.setItem(\"favorites\", JSON.stringify(updated));\n  };\n\n\n  const playEpisode = (url, id, queue = []) => {\n    window.dispatchEvent(\n      new CustomEvent(\"play-audio\", {\n        detail: {\n          url,\n          id,\n          queue,\n        },\n      })\n    );\n  };\n\n  const toggleSeason = (season) => {\n    setExpandedSeasons((prev) => ({\n      ...prev,\n      [season]: !prev[season],\n    }));\n  };\n\n  if (loading) return <p className=\"text-center mt-10\">Loading...</p>;\n  if (error) return <p className=\"text-center text-red-600\">{error}</p>;\n  if (!show) return null;\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 py-10 pb-40\">\n      {/* Go Back Button */}\n      <button\n        onClick={() => navigate(-1)}\n        className=\"mb-6 px-4 py-2 bg-gray-200 dark:bg-gray-700 text-black dark:text-white rounded hover:bg-gray-300 dark:hover:bg-gray-600\"\n      >\n        ← Go Back\n      </button>\n\n      <h2 className=\"text-3xl font-bold text-center mb-4\">{show.title}</h2>\n      <img\n        src={show.image}\n        alt={show.title}\n        className=\"mx-auto w-32 h-32 object-cover rounded mb-4\"\n      />\n      <p className=\"text-center mb-6 text-gray-700 dark:text-gray-300\">\n        {show.description || \"No description available.\"}\n      </p>\n\n      <h3 className=\"text-xl font-semibold mb-6\">\n        {show.seasons.length} Season(s),{\" \"}\n        {show.seasons.reduce(\n          (acc, season) => acc + (season.episodes?.length || 0),\n          0\n        )}{\" \"}\n        Episode(s)\n      </h3>\n\n      {show.seasons.map((season) => (\n        <div key={season.season} className=\"mb-6\">\n          <button\n            onClick={() => toggleSeason(season.season)}\n            className=\"w-full text-left font-bold text-lg bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-md mb-2\"\n          >\n            Season {season.season} {expandedSeasons[season.season] ? \"▲\" : \"▼\"}\n          </button>\n\n          {expandedSeasons[season.season] && (\n            <Episodes\n              episodes={season.episodes || []}\n              onPlay={(url, id) => playEpisode(url, id, season.episodes || [])}\n              favorites={favorites}\n              onToggleFavorite={toggleFavorite}\n            />\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}